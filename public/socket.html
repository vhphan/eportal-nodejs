<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Sockets</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
</head>
<body>
<nav class="navbar navbar-dark bg-primary">
    <div class="container-fluid">
        <div class="navbar-brand py-0 mx-auto">Download Map Files</div>
        <!--    <div class="px-3 py-0">ITK Hourly Data Export</div>-->
    </div>
</nav>
<div class="container-fluid">
    <div style="margin-top:5%; margin-left:auto;  margin-right:auto; width:80%;">
        <button class="btn-primary" id="test">
            TEST
        </button>
    </div>
    <div id="output"></div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
        crossorigin="anonymous"></script>

<script src="https://cdn.socket.io/4.4.0/socket.io.min.js"
        integrity="sha384-1fOn6VtTq3PWwfsOrk45LnYcGosJwzMHv+Xh/Jx5303FVOXzEnw0EpLv30mtjmlj"
        crossorigin="anonymous"></script>

<script>

    const socket = io.connect('https://api.eprojecttrackers.com', {path: "/node/socket.io"});
    socket.on("connect", () => {
        console.log(socket.connected); // true
    });

    socket.on("disconnect", () => {
        console.log(socket.connected); // false
    });

    socket.on("broadcastMessage", function (data) {
        const output = document.getElementById("output");
        output.innerHTML +=
            `<p><strong>${JSON.stringify(data)}</strong></p>`;
    });

</script>

</body>
</html>